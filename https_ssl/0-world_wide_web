#!/usr/bin/env bash
# Display subdomain IP information

domain="$1"
subdomain="$2"

if [ -z "$domain" ]; then
    exit 0
fi

# Function to resolve a subdomain
resolve() {
    dig +short "$1.$domain" | tail -n 1
}

if [ -n "$subdomain" ]; then
    ip=$(resolve "$subdomain")
    [ -n "$ip" ] && echo "$subdomain.$domain has IP: $ip"
    exit 0
fi

# No subdomain provided â†’ print all 4 required ones
for host in "www" "lb-01" "web-01" "web-02"; do
    ip=$(resolve "$host")
    [ -n "$ip" ] && echo "$host.$domain has IP: $ip"
done
