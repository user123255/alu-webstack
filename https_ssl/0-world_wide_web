#!/usr/bin/env bash
# 0-world_wide_web
# Display information about domain subdomains

domain=$1
subdomain=$2

get_subdomain_info() {
    local sd=$1
    info=$(dig ${sd}.${domain} | awk '/ANSWER SECTION:/ {getline; print}')
    record_type=$(echo "$info" | awk '{print $4}')
    destination=$(echo "$info" | awk '{print $5}')
    echo "The subdomain ${sd} is a ${record_type} record and points to ${destination}"
}

if [ -z "$subdomain" ]; then
    # Print all in required order
    get_subdomain_info "www"
    get_subdomain_info "lb-01"
    get_subdomain_info "web-01"
    get_subdomain_info "web-02"
else
    # Print only selected subdomain
    get_subdomain_info "$subdomain"
fi
