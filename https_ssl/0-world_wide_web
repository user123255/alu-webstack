#!/usr/bin/env bash
# Displays information about subdomains

domain=$1
subdomain=$2

# Function to query and display subdomain info
get_subdomain_info() {
    local sd=$1
    local info

    info=$(dig +short "${sd}.${domain}")
    if [ -z "$info" ]; then
        echo "No record found for ${sd}.${domain}"
    else
        echo "${sd}.${domain} has IP: $info"
    fi
}

# If no subdomain is provided, show all required ones
if [ -z "$subdomain" ]; then
    for sd in www lb-01 web-01 web-02; do
        get_subdomain_info "$sd"
    done
else
    get_subdomain_info "$subdomain"
fi
