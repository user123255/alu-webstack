#!/usr/bin/env bash
# 0-world_wide_web
# Display information about domain subdomains

domain=$1
subdomain=$2

# Function to get subdomain info
get_subdomain_info() {
    local full="${1}.${domain}"
    local line
    line=$(dig "$full" | awk '/ANSWER SECTION:/ {getline; print}')
    local record_type
    record_type=$(echo "$line" | awk '{print $4}')
    local destination
    destination=$(echo "$line" | awk '{print $5}')
    echo "The subdomain $1 is a $record_type record and points to $destination"
}

# If only the domain is provided → print all in required order
if [ -z "$subdomain" ]; then
    get_subdomain_info "www"
    get_subdomain_info "lb-01"
    get_subdomain_info "web-01"
    get_subdomain_info "web-02"
else
    # If both domain + subdomain provided → print only that
    get_subdomain_info "$subdomain"
fi
